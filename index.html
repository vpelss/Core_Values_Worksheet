<!DOCTYPE html>
<html> 
<head>
<meta name="description" content="Core Values Excercise">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Core Values Excercise</title>
 <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <style>
 .inline{
 display: inline-block;  
 }
  </style>
</head>
<body>

<table>
  <tr>
    <td>
<div class='inline'>Core Value:</div><div id='core_value_word' class='inline'>Core Value</div> 
<br>
<div class='inline'>Definition:</div> <div id='core_value_definition' class='inline'>Definition</div> 
<br>
<div class='inline'>Status:</div> <div id='core_value_ynm' class='inline'>Maybe</div> 
<br><br>
<a class="ui-button ui-widget ui-corner-all" onclick="Set_Core_Value('yes');">Yes</a> 
<a class="ui-button ui-widget ui-corner-all" onclick="Set_Core_Value('no');">No</a> 
<a class="ui-button ui-widget ui-corner-all" onclick="Set_Core_Value('maybe');">Maybe</a>
    </td>
    <td>
<div  class="ui-button ui-widget ui-corner-all" onclick="Set_New_Filter('yes');">
  <input type="radio" id="YesList" name="filter">
  <label for="YesList">Yes List </label>(<div id='count_yes' class='inline'></div>)<br>
</div>
<br><br>  
<div  class="ui-button ui-widget ui-corner-all" onclick="Set_New_Filter('no');">
  <input type="radio" id="NoList" name="filter">
  <label for="NoList">No List </label>(<div id='count_no' class='inline'></div>)<br>
</div>
<br><br> 
<div  class="ui-button ui-widget ui-corner-all" onclick="Set_New_Filter('maybe');">
  <input type="radio" id="MaybeList" name="filter">
  <label for="MaybeList">Maybe List </label>(<div id='count_maybe' class='inline'></div>)<br>
</div>
<br><br>  
<div  class="ui-button ui-widget ui-corner-all" onclick="Set_New_Filter('all');">
  <input type="radio" id="AllList" name="filter" checked>
  <label for="AllList">All List </label>(<div id='count_all' class='inline'></div>)<br>
</div>      
    </td>    
  </tr>
</table>

<a class="ui-button ui-widget ui-corner-all" href="#" onclick='Prev_Core_Value();'><< Prev</a> 
<a class="ui-button ui-widget ui-corner-all" href="#" onclick='Next_Core_Value();'>Next >></a>
<br><br>   
<a class="ui-button ui-widget ui-corner-all" href="#" onclick='Undo();'>Undo</a>
<br><br> 
  
<a class="ui-button ui-widget ui-corner-all" href="#" onclick='Reset_Choices();'>Reset Choices</a>
<br><br> 
  
<form>
 <textarea id="JSONSave" rows="3" cols="50" placeholder="Import/Export/Backup/Modify Core Value  List. Save the text generated in a safe location." title='You can import/export your current Core Value list (which is saved in the local cookie). This is helful to move it to another computer or use it as a backup.'></textarea>
  <br>
  <input type='button' value='Get Alias List' onclick="GetAliasList()">
  <input type='button' value='Save Alias List' onclick="SaveAliasList()">
  <input type='button' value='Reset Alias List' onclick="if(confirm('This will reset to Default list. Any words you have added or removed will be reverted. Are you sure?')){ResetAliasList()}">
</form>
  
 <br><br>  
<a href="mailto:vpelss@gmail.com?subject=ghfgdf&body=ghfhfh\njfghfgh" target="_blank"> mail </a>
<pre> 
value: definition : color

-from list choose yes , no , maybe
-from maybe list, choose yes or no
-from yes list loop and remove until at 10
-then sort
-then take top 3

-undo up to 10 steps? OR change NO , MAYBE list option. go back one and show filtered based on last value!
-capability to email?
-save to cookie so we can come back exactly at step we left on with data intact?
-add your own core values, or overide list. load / edit / save list

</pre>
  
<script>
var values_list_array = [];
var count = {}; //eg: count.yes = 50;
  
var values_list_text = `
Love : What is love? : red

Trust : never do this  
Soup: liquid heat : rose
Acceptance
Accomplishment
Accountability
Accuracy
Achievement
Adaptability
Alertness
Altruism
Ambition
Amusement
Assertiveness
Attentive
Awareness
Balance
Beauty
Boldness
Bravery
Brilliance
Calm
Candor
Capable
Careful
Certainty
Challenge
Charity
Cleanliness
Clear
Clever
Comfort
Commitment
Common sense
Communication
Community
Compassion
Competence
Concentration
Confidence
Connection
Consciousness
Consistency
Contentment
Contribution
Control
Conviction
Cooperation
Courage
Courtesy
Creation
Creativity
Credibility
Curiosity
Decisive
Decisiveness
Dedication
Dependability
Determination
Development
Devotion
Dignity
Discipline
Discovery
Drive
Effectiveness
Efficiency
Empathy
Empower
Endurance
Energy
Enjoyment
Enthusiasm
Equality
Ethical
Excellence
Experience

Exploration
Expressive
Fairness
Family
Famous
Fearless
Feelings
Ferocious
Fidelity
Focus
Foresight
Fortitude
Freedom
Friendship
Fun
Generosity
Genius
Giving
Goodness
Grace
Gratitude
Greatness
Growth
Happiness
Hard work
Harmony
Health
Honesty
Honor
Hope
Humility
Humor
Imagination
Improvement
Independence
Individuality
Innovation
Inquisitive
Insightful
Inspiring
Integrity
Intelligence
Intensity
Intuitive
Joy
Justice
Kindness
Knowledge
Lawful
Leadership
Learning
Liberty
Logic
Love
Loyalty
Mastery
Maturity
Meaning
Moderation
Motivation
Openness
Optimism
Order
Organization
Originality
Passion
Patience
Peace
Performance
Persistence
Playfulness
Poise
Potential
Power

Present
Productivity
Professionalism
Prosperity
Purpose
Quality
Realistic
Reason
Recognition
Recreation
Reflective
Respect
Responsibility
Restraint
Results-oriented
Reverence
Rigor
Risk
Satisfaction
Security
Self-reliance
Selfless
Sensitivity
Serenity
Service
Sharing
Significance
Silence
Simplicity
Sincerity
Skill
Skillfulness
Smart
Solitude
Spirit
Spirituality
Spontaneous
Stability
Status
Stewardship
Strength
Structure
Success
Support
Surprise
Sustainability
Talent
Teamwork
Temperance
Thankful
Thorough
Thoughtful
Timeliness
Tolerance
Toughness
Traditional
Tranquility
Transparency
Trust
Trustworthy
Truth
Understanding
Uniqueness
Unity
Valor
Victory
Vigor
Vision
Vitality
Wealth
Welcoming
Winning
Wisdom
Wonder
`;
   
function Build_values_list( text ){
for(var line of text.split(/\r?\n/)){ //for each line
  if (line.trim() === '') {continue}; //remove blank lines
  var line_array = line.split(':');
  var definition = '';
  var colour = '';
  if (typeof line_array[0] !== 'undefined'){
       if (typeof line_array[1] !== 'undefined'){
         definition = line_array[1].trim();
       }
       if (typeof line_array[2] !== 'undefined'){
         colour = line_array[2].trim();
       }
      values_list_array.push( {'word':line_array[0].trim() , 'definition':definition , 'colour':colour , 'ynm':'maybe' } );
   }
   else{
       console.log('Missing core_value');
   }
  }
} 

function Build_values_text( values_list_array ){
  var text = '';
  for(var value of values_list_array){ //for each value
    var line = '' + value.word + ':' + value.definition + ':' + value.colour + '\r\n';
    text = text + line;
  }
  return text;
} 
  
Build_values_list( values_list_text );
  
values_list_array_filter = 'all';
function Set_New_Filter(filter){
  values_list_array_filter = filter;
  if( values_list_array[0].ynm === filter ){
    Display_Core_Value(); 
    return;
  } //stay on same Core Value if we are the right type
  Next_Core_Value();
}
  
function Count_Core_Values(){
  count = {};
  count.yes = 0;
  count.no = 0;
  count.maybe = 0;
  count.all = 0;
  for (var value of values_list_array){
    var ynm = value.ynm;
    count[ynm] = 1 + count[ynm]; //must ensure object is a number
    count['all']++;
  }
  $('#count_yes').html( count.yes );
  $('#count_no').html( count.no );
  $('#count_maybe').html( count.maybe );
  $('#count_all').html( count.all );  
}
  
function Next_Core_Value(){ 
  if (count[values_list_array_filter] > 0){ //only if there is something to find
   do{
    values_list_array.push( values_list_array.shift() );
   }while( (values_list_array[0].ynm !== values_list_array_filter) && (values_list_array_filter !== 'all') );
  Display_Core_Value();
  }
 else{
     Erase_Core_Value();
     alert('There are no Core Values listed as: ' + values_list_array_filter);
 }
VarToCookie();
}
  
function Prev_Core_Value(){ 
  if (count[values_list_array_filter] > 0){ //only if there is something to find
   do{
    values_list_array.unshift( values_list_array.pop() );
   }while( (values_list_array[0].ynm !== values_list_array_filter) && (values_list_array_filter !== 'all') );
  Display_Core_Value();
  }
 else{
     Erase_Core_Value();
     alert('No Core Values listed as ' + values_list_array_filter);
 }
}
  
function Set_Core_Value(ynm){
  values_list_array[0].ynm = ynm;
  Count_Core_Values();
  Next_Core_Value();
}
 
function Display_Core_Value(){
$('#core_value_word').html( values_list_array[0].word );
$('#core_value_definition').html( values_list_array[0].definition );
$('#core_value_ynm').html( values_list_array[0].ynm );
} 
  
function Erase_Core_Value(){
$('#core_value_word').html( '' );
$('#core_value_definition').html( '' );
$('#core_value_ynm').html( '' );
} 
 
function Undo(){
  values_list_array.unshift( values_list_array.pop() );
  Display_Core_Value();
}
  
function CookieToVar()
{  
if( supports_html5_storage() == false ) {return} 
if( typeof localStorage['Core_Values'] === 'undefined' ) {return } //nothing to restore. use var
var test = localStorage['Core_Values'];
values_list_array = JSON.parse( localStorage['Core_Values'] );
} 
  
function VarToCookie(){
if( supports_html5_storage() == false ) {return} 
localStorage['Core_Values'] = JSON.stringify( values_list_array );
}
  
function GetAliasList()
{
CookieToVar();
document.getElementById("JSONSave").value = Build_values_text( values_list_array )
}
  
function SaveAliasList(){
  if(false === confirm('This will change your list based on the text you entered. Are you sure?')){return};
  values_list_array=[];
  Build_values_list( document.getElementById("JSONSave").value );  
  VarToCookie();
  Count_Core_Values();
  Display_Core_Value();  
}
  
function ResetAliasList(){
  values_list_array = [];
  Build_values_list( values_list_text );  
  VarToCookie();
  Count_Core_Values();
  Display_Core_Value();   
}
  
function supports_html5_storage() {
  try {
    return 'localStorage' in window && window['localStorage'] !== null;
  } catch (e) {
    return false;
  }
}
  
function Reset_Choices(){
  if( false == confirm('This will reset ALL changes to your choices and cannot be undone. (y/n)') ){ return }
  for(var value of values_list_array){ value.ynm = 'maybe'; }
  localStorage['Core_Values'] = null;
  Display_Core_Value();  
  Count_Core_Values();
  VarToCookie();
}
 
CookieToVar();
Display_Core_Value();  
Count_Core_Values();

console.log('');
</script>a
  </body>
</html>
